!function(){"use strict";const e=document.createElement("template");let t;e.innerHTML='\n<div part="control"><div part="check"></div></div>\n<label part="label"><slot></slot></label>\n';const i='\n:host {\n    display: inline-grid;\n    grid-template-columns: auto 1fr;\n    column-gap: .5rem;\n    align-items: center;\n    justify-items: stretch;\n    font: inherit;\n}\n:host input {\n    display: none;\n}\n:host [part="control"] {\n    display: flex;\n    align-items: stretch;\n    justify-content: stretch;\n    height: 1rem;\n    width: 1rem;\n    border: 1px solid var(--border-color, #ccc);\n    border-radius: .125rem;\n    box-sizing: border-box;\n}\n:host [part="check"] {\n    flex: 1 1 auto;\n    margin: 1px;\n    border-radius: .125rem;\n}\n:host([aria-checked="true"]) [part="check"] {\n    background-color: var(--background-color-active, dodgerblue);\n}\n:host([aria-disabled=true]) {\n    opacity: .5;\n}\n:host(:focus) {\n    outline: none;\n    box-shadow: 0 0 0 2px var(--outline-color, dodgerblue);\n}\n';try{t=new CSSStyleSheet,t.replaceSync(i)}catch(e){t=document.createElement("style"),t.innerText=i}let s,n=0;class r extends HTMLElement{constructor(){super(),this.listeners=new Map;const e=this.constructor.template,t=this.constructor.style;this.attachShadow({mode:"open"}),this.shadowRoot.append(e.content.cloneNode(!0)),t instanceof CSSStyleSheet?this.shadowRoot.adoptedStyleSheets=[t]:this.shadowRoot.prepend(t.cloneNode(!0)),this.id=this.getId(),this.input=this.createHiddenInput(),this.label=this.shadowRoot.querySelector("[part=label]"),this.listeners.set("click",this.handleClick.bind(this)),this.listeners.set("keypress",this.handleKeypress.bind(this))}static get observedAttributes(){return["aria-checked","aria-disabled","name","value"]}get checked(){return this.input.checked}set checked(e){e!==this.checked&&(this.input.checked=e,this.setAttribute("aria-checked",`${e}`))}get disabled(){return this.input.disabled}set disabled(e){e!==this.disabled&&(this.input.disabled=e,e?(this.tabindex=-1,this.setAttribute("aria-disabled","true")):(this.tabindex=0,this.removeAttribute("aria-disabled")))}get tabindex(){return this.disabled?-1:0}set tabindex(e){this.disabled?this.removeAttribute("tabindex"):this.setAttribute("tabindex",`${e}`)}get name(){return this.input.name}set name(e){e!==this.name&&(null!==e?(this.input.name=e,this.setAttribute("name",e)):(this.input.removeAttribute("name"),this.removeAttribute("name")))}get value(){return this.input.value}set value(e){e!==this.value&&(null!==e?(this.input.value=e,this.setAttribute("value",e)):(this.input.removeAttribute("value"),this.removeAttribute("value")))}connectedCallback(){this.setAttribute("role","checkbox"),this.tabindex=0,this.setAttribute("aria-checked",`${this.checked}`),this.label.id=`${this.id}-label`,this.setAttribute("aria-labelledby",this.label.id),this.addListeners()}disconnectedCallback(){this.removeListeners()}attributeChangedCallback(e,t,i){switch(e){case"aria-checked":if(t===i)return;this.checked="true"===i;break;case"aria-disabled":if(t===i)return;this.disabled="true"===i;break;case"name":if(t===i)return;this.name=i;break;case"value":if(t===i)return;this.value=i}}toggle(){this.checked=!this.checked}getId(){return this.id||`check-box-${n++}`}createHiddenInput(){const e=document.createElement("input");return e.type="checkbox",e.checked="true"===this.getAttribute("aria-checked"),e.disabled="true"===this.getAttribute("aria-disabled"),e.setAttribute("aria-hidden","true"),e.setAttribute("style","display: none;"),this.prepend(e),e}addListeners(){this.listeners.forEach((e,t)=>this.addEventListener(t,e))}removeListeners(){this.listeners.forEach((e,t)=>this.removeEventListener(t,e))}handleClick(e){this.disabled||(this.toggle(),this.emitChange())}handleKeypress(e){if("Enter"===e.key||" "===e.key){if(e.preventDefault(),this.disabled)return;this.toggle(),this.emitChange()}}emitChange(){this.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!0,composed:!0}))}}r.template=e,r.style=t,customElements.define("check-box",r);const a='\n:host {\n    display: inline-grid;\n    grid-template-columns: auto 1fr;\n    column-gap: .5rem;\n    align-items: center;\n    justify-items: stretch;\n    font: inherit;\n}\n:host input {\n    display: none;\n}\n:host [part="control"] {\n    display: flex;\n    align-items: stretch;\n    justify-content: stretch;\n    height: 1rem;\n    width: 1rem;\n    border: 1px solid var(--border-color, #ccc);\n    border-radius: 50%;\n    box-sizing: border-box;\n}\n:host [part="check"] {\n    flex: 1 1 auto;\n    margin: 1px;\n    border-radius: 50%;\n}\n:host([aria-checked="true"]) [part="check"] {\n    background-color: var(--background-color-active, dodgerblue);\n}\n:host([aria-disabled=true]) {\n    opacity: .5;\n}\n:host(:focus) {\n    outline: none;\n    box-shadow: 0 0 0 2px var(--outline-color, dodgerblue);\n}\n';try{s=new CSSStyleSheet,s.replaceSync(a)}catch(e){s=document.createElement("style"),s.innerText=a}let h=0;class d extends r{get checked(){return"true"===this.getAttribute("aria-checked")}set checked(e){e!==this.checked&&(this.input.checked=e,this.setAttribute("aria-checked",`${e}`))}connectedCallback(){super.connectedCallback(),this.setAttribute("role","radio")}getId(){return this.id||`radio-button-${h++}`}createHiddenInput(){const e=document.createElement("input");return e.type="radio",e.checked="true"===this.getAttribute("aria-checked"),e.disabled="true"===this.getAttribute("aria-disabled"),e.setAttribute("aria-hidden","true"),e.setAttribute("style","display: none;"),this.prepend(e),e}handleClick(e){this.disabled||this.checked||(this.checked=!0,this.emitChange())}handleKeypress(e){if("Enter"===e.key||" "===e.key){if(e.preventDefault(),this.disabled||this.checked)return;this.checked=!0,this.emitChange()}}}d.style=s,customElements.define("radio-button",d);const o=document.createElement("template");o.innerHTML='\n<slot name="header"></slot>\n<slot name="description"></slot>\n<slot></slot>\n';let c=0;class l extends HTMLElement{constructor(){super(),this.header=null,this.description=null,this.attachShadow({mode:"open"}),this.shadowRoot.append(o.content.cloneNode(!0)),this.id=this.id||`form-group-${c++}`,this.header=this.querySelector("[slot=header]"),this.description=this.querySelector("[slot=description]")}connectedCallback(){this.setAttribute("role","group"),this.header&&(this.header.id=this.header.id||`${this.id}-header`,this.setAttribute("aria-labelledby",this.header.id)),this.description&&(this.description.id=this.description.id||`${this.id}-description`,this.setAttribute("aria-describedby",this.description.id))}}customElements.define("form-group",l);customElements.define("radio-group",class extends l{constructor(){super(),this.listeners=new Map,this.active=0,this.radios=this.querySelectorAll("radio-button"),this.listeners.set("change",this.handleChange.bind(this)),this.listeners.set("keydown",this.handleKeypress.bind(this))}connectedCallback(){super.connectedCallback(),this.setAttribute("role","radiogroup"),this.initRadios(),this.addListeners()}disconnectedCallback(){this.removeListeners()}initRadios(){this.radios.forEach((e,t)=>{e.checked?this.active=t:e.tabindex=-1}),this.radios.item(this.active).tabindex=0}nextRadio(e){const t=this.radios.length-1;e=null!=e?e:this.active;do{++e>t&&(e=0)}while(this.radios.item(e).disabled);return e}previousRadio(e){const t=this.radios.length-1;e=null!=e?e:this.active;do{--e<0&&(e=t)}while(this.radios.item(e).disabled);return e}activateRadio(e){const t=this.radios.item(this.active);t.checked=!1,t.tabindex=-1;const i=this.radios.item(e);i.checked=!0,i.tabindex=0,i.focus(),this.active=e}addListeners(){this.listeners.forEach((e,t)=>this.addEventListener(t,e))}removeListeners(){this.listeners.forEach((e,t)=>this.removeEventListener(t,e))}handleChange(e){if(e.target.checked){const t=[...this.radios.entries()].find(([t,i])=>i===e.target)[0];t!==this.active&&this.activateRadio(t)}}handleKeypress(e){switch(e.key){case"ArrowUp":case"ArrowLeft":this.activateRadio(this.previousRadio()),e.preventDefault();break;case"ArrowDown":case"ArrowRight":this.activateRadio(this.nextRadio()),e.preventDefault()}}});class u extends HTMLElement{constructor(){super(...arguments),this.listeners=new Map}static get observedAttributes(){return["name","required"]}get name(){return this.getAttribute("name")}set name(e){e!==this.name&&(e?this.setAttribute("name",e):this.removeAttribute("name"))}get required(){return this.hasAttribute("required")&&"false"!==this.getAttribute("required")}set required(e){e!==this.required&&(e?this.setAttribute("required","true"):this.removeAttribute("required"))}connectedCallback(){}disconnectedCallback(){}attributeChangedCallback(e,t,i){if(t!==i)switch(e){case"name":this.name=i;break;case"required":this.required="false"!==i}}isValid(){const e=new FormData(this.parentElement);return!this.required||(!!e.get(this.name)||!!e.get(`${this.name}-other`))}addListeners(){this.listeners.forEach((e,t)=>this.addEventListener(t,e))}removeListeners(){this.listeners.forEach((e,t)=>this.removeEventListener(t,e))}}customElements.define("survey-question",u);class b extends HTMLFormElement{constructor(){super(...arguments),this.active=0,this.total=0}connectedCallback(){this.listeners=new Map,this.listeners.set("change",this.handleChange.bind(this)),this.listeners.set("next-step",this.handleNextStep.bind(this)),this.listeners.set("previous-step",this.handlePreviousStep.bind(this)),this.steps=this.querySelectorAll("survey-question"),this.total=this.steps.length,this.active=0,console.log(this.steps),console.log(this.total),console.log(this.active),this.progress=document.createElement("progress"),this.progress.max=this.total,this.progress.value=this.active+1,this.prepend(this.progress),this.previous=document.createElement("button"),this.previous.type="button",this.previous.textContent="Previous",this.previous.className="previous",this.previous.setAttribute("aria-label","previous"),this.previous.addEventListener("click",()=>this.previous.dispatchEvent(new Event("previous-step",{bubbles:!0,cancelable:!0,composed:!0}))),this.append(this.previous),this.next=document.createElement("button"),this.next.type="button",this.next.textContent="Next",this.next.className="next",this.next.setAttribute("aria-label","next"),this.next.addEventListener("click",()=>this.next.dispatchEvent(new Event("next-step",{bubbles:!0,cancelable:!0,composed:!0}))),this.append(this.next),this.update(),this.addListeners()}disconnectedCallback(){this.removeListeners()}getResults(){return[...new FormData(this).entries()].reduce((e,[t,i])=>(e.hasOwnProperty(t)?(e[t]instanceof Array||(e[t]=[e[t]]),e[t].push(i)):e[t]=i,e),{})}update(){this.steps.forEach((e,t)=>{t!==this.active?(e.setAttribute("aria-hidden","true"),e.setAttribute("style","display: none;")):(e.setAttribute("aria-hidden","false"),e.setAttribute("style","display: initial;"))}),this.previous.disabled=0===this.active,this.next.disabled=!this.steps.item(this.active).isValid(),this.progress.value=this.active}handleChange(){this.update()}handleNextStep(){this.steps.item(this.active).isValid()&&this.active<this.total-1&&(this.active++,this.update())}handlePreviousStep(){this.active>0&&(this.active--,this.update())}addListeners(){this.listeners.forEach((e,t)=>this.addEventListener(t,e))}removeListeners(){this.listeners.forEach((e,t)=>this.removeEventListener(t,e))}}customElements.define("survey-form",b,{extends:"form"}),window.addEventListener("DOMContentLoaded",()=>{!async function(){console.log("loaded..")}()})}();
