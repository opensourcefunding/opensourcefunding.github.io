!function(){"use strict";const e=document.createElement("template");let t;e.innerHTML='\n<svg focusable="false"><use/></svg>\n';const i="\n:host {\n    display: inline-flex;\n    width: var(--line-height, 1.5rem);\n    height: var(--line-height, 1.5rem);\n    padding: 0;\n    line-height: inherit;\n    font-size: inherit;\n    vertical-align: bottom;\n    box-sizing: border-box;\n}\n:host svg {\n    width: 100%;\n    height: 100%;\n    line-height: inherit;\n    font-size: inherit;\n    overflow: visible;\n    fill: var(--icon-color, currentColor);\n}\n";try{t=new CSSStyleSheet,t.replaceSync(i)}catch(e){t=document.createElement("style"),t.innerText=i}class s extends HTMLElement{constructor(){super();const e=this.constructor.template,t=this.constructor.style;this.attachShadow({mode:"open"}),this.shadowRoot.append(e.content.cloneNode(!0)),t instanceof CSSStyleSheet?this.shadowRoot.adoptedStyleSheets=[t]:this.shadowRoot.prepend(t.cloneNode(!0)),this.use=this.shadowRoot.querySelector("use")}static getObservedAttributes(){return["icon"]}get icon(){return this.getAttribute("icon")}set icon(e){e!==this.icon&&(this.setAttribute("icon",e||""),this.update())}connectedCallback(){this.setAttribute("role","img"),this.setAttribute("aria-hidden","true"),this.update()}attributeChangedCallback(e,t,i){t!==i&&(this.icon=i)}update(){this.use.setAttribute("href",`icons.svg#${this.icon}`)}}s.template=e,s.style=t,customElements.define("ui-icon",s);const n=document.createElement("template");n.innerHTML='\n<ui-icon icon="angle-down"></ui-icon>\n';class r extends HTMLElement{constructor(){super(),this.append(this.constructor.template.content.cloneNode(!0)),this.select=this.querySelector("select")}connectedCallback(){}}r.template=n,customElements.define("ui-select",r);const a=document.createElement("template");let o;a.innerHTML='\n<div part="control"><div part="check"><ui-icon icon="check"></ui-icon></div></div>\n<label part="label"><slot></slot></label>\n';const h='\n:host {\n    --icon-color: #fff;\n    display: inline-grid;\n    grid-template-columns: auto 1fr;\n    column-gap: .75rem;\n    align-items: center;\n    justify-items: stretch;\n    font: inherit;\n    border-radius: var(--border-radius, .125rem);\n}\n:host input {\n    display: none;\n}\n:host ui-icon {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n}\n:host [part="control"] {\n    display: flex;\n    align-items: stretch;\n    justify-content: stretch;\n    height: 1.25rem;\n    width: 1.25rem;\n    border: .125rem solid var(--border-color, #ccc);\n    border-radius: var(--border-radius, .125rem);\n    box-sizing: border-box;\n}\n:host [part="check"] {\n    flex: 1 1 auto;\n    position: relative;\n}\n:host([aria-checked="true"]) [part="control"] {\n    border-color: var(--background-color-active, dodgerblue);\n    background-color: var(--background-color-active, dodgerblue);\n}\n:host([aria-checked="true"]) [part="check"] {\n    background-color: var(--background-color-active, dodgerblue);\n}\n:host([aria-checked="false"]) ui-icon {\n    display: none;\n}\n:host([aria-disabled=true]) {\n    opacity: .5;\n}\n:host(:focus) {\n    outline: none;\n    box-shadow: 0 0 0 .125rem var(--outline-color, dodgerblue);\n}\n';try{o=new CSSStyleSheet,o.replaceSync(h)}catch(e){o=document.createElement("style"),o.innerText=h}let c,d=0;class l extends HTMLElement{constructor(){super(),this.listeners=new Map;const e=this.constructor.template,t=this.constructor.style;this.attachShadow({mode:"open"}),this.shadowRoot.append(e.content.cloneNode(!0)),t instanceof CSSStyleSheet?this.shadowRoot.adoptedStyleSheets=[t]:this.shadowRoot.prepend(t.cloneNode(!0)),this.id=this.getId(),this.input=this.createHiddenInput(),this.label=this.shadowRoot.querySelector("[part=label]"),this.listeners.set("click",this.handleClick.bind(this)),this.listeners.set("keypress",this.handleKeypress.bind(this))}static get observedAttributes(){return["aria-checked","aria-disabled","name","value"]}get checked(){return this.input.checked}set checked(e){e!==this.checked&&(this.input.checked=e,this.setAttribute("aria-checked",`${e}`))}get disabled(){return this.input.disabled}set disabled(e){e!==this.disabled&&(this.input.disabled=e,e?(this.tabindex=-1,this.setAttribute("aria-disabled","true")):(this.tabindex=0,this.removeAttribute("aria-disabled")))}get tabindex(){return this.disabled?-1:0}set tabindex(e){this.disabled?this.removeAttribute("tabindex"):this.setAttribute("tabindex",`${e}`)}get name(){return this.input.name}set name(e){e!==this.name&&(null!==e?(this.input.name=e,this.setAttribute("name",e)):(this.input.removeAttribute("name"),this.removeAttribute("name")))}get value(){return this.input.value}set value(e){e!==this.value&&(null!==e?(this.input.value=e,this.setAttribute("value",e)):(this.input.removeAttribute("value"),this.removeAttribute("value")))}connectedCallback(){this.setAttribute("role","checkbox"),this.tabindex=0,this.setAttribute("aria-checked",`${this.checked}`),this.label.id=`${this.id}-label`,this.setAttribute("aria-labelledby",this.label.id),this.addListeners()}disconnectedCallback(){this.removeListeners()}attributeChangedCallback(e,t,i){switch(e){case"aria-checked":if(t===i)return;this.checked="true"===i;break;case"aria-disabled":if(t===i)return;this.disabled="true"===i;break;case"name":if(t===i)return;this.name=i;break;case"value":if(t===i)return;this.value=i}}toggle(){this.checked=!this.checked}getId(){return this.id||`check-box-${d++}`}createHiddenInput(){const e=document.createElement("input");return e.type="checkbox",e.checked="true"===this.getAttribute("aria-checked"),e.disabled="true"===this.getAttribute("aria-disabled"),e.setAttribute("aria-hidden","true"),e.setAttribute("style","display: none;"),this.prepend(e),e}addListeners(){this.listeners.forEach((e,t)=>this.addEventListener(t,e))}removeListeners(){this.listeners.forEach((e,t)=>this.removeEventListener(t,e))}handleClick(e){this.disabled||(this.toggle(),this.emitChange())}handleKeypress(e){if("Enter"===e.key||" "===e.key){if(e.preventDefault(),this.disabled)return;this.toggle(),this.emitChange()}}emitChange(){this.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!0,composed:!0}))}}l.template=a,l.style=o,customElements.define("check-box",l);const u='\n:host {\n    --icon-color: #fff;\n    display: inline-grid;\n    grid-template-columns: auto 1fr;\n    column-gap: .75rem;\n    align-items: center;\n    justify-items: stretch;\n    font: inherit;\n    border-radius: var(--border-radius, .125rem);\n}\n:host input {\n    display: none;\n}\n:host ui-icon {\n    display: none;\n}\n:host [part="control"] {\n    display: flex;\n    align-items: stretch;\n    justify-content: stretch;\n    height: 1.25rem;\n    width: 1.25rem;\n    border: .125rem solid var(--border-color, #ccc);\n    border-radius: 50%;\n    box-sizing: border-box;\n}\n:host [part="check"] {\n    flex: 1 1 auto;\n    margin: .125rem;\n    border-radius: 50%;\n}\n:host([aria-checked="true"]) [part="control"] {\n    border-color: var(--background-color-active, dodgerblue);\n}\n:host([aria-checked="true"]) [part="check"] {\n    background-color: var(--background-color-active, dodgerblue);\n}\n:host([aria-disabled=true]) {\n    opacity: .5;\n}\n:host(:focus) {\n    outline: none;\n    box-shadow: 0 0 0 .125rem var(--outline-color, dodgerblue);\n}\n';try{c=new CSSStyleSheet,c.replaceSync(u)}catch(e){c=document.createElement("style"),c.innerText=u}let b=0;class p extends l{get checked(){return"true"===this.getAttribute("aria-checked")}set checked(e){e!==this.checked&&(this.input.checked=e,this.setAttribute("aria-checked",`${e}`))}connectedCallback(){super.connectedCallback(),this.setAttribute("role","radio")}getId(){return this.id||`radio-button-${b++}`}createHiddenInput(){const e=document.createElement("input");return e.type="radio",e.checked="true"===this.getAttribute("aria-checked"),e.disabled="true"===this.getAttribute("aria-disabled"),e.setAttribute("aria-hidden","true"),e.setAttribute("style","display: none;"),this.prepend(e),e}handleClick(e){this.disabled||this.checked||(this.checked=!0,this.emitChange())}handleKeypress(e){if("Enter"===e.key||" "===e.key){if(e.preventDefault(),this.disabled||this.checked)return;this.checked=!0,this.emitChange()}}}p.style=c,customElements.define("radio-button",p);const m=document.createElement("template");m.innerHTML='\n<slot name="header"></slot>\n<slot name="description"></slot>\n<slot></slot>\n';let v=0;class g extends HTMLElement{constructor(){super(),this.header=null,this.description=null,this.attachShadow({mode:"open"}),this.shadowRoot.append(m.content.cloneNode(!0)),this.id=this.id||`form-group-${v++}`,this.header=this.querySelector("[slot=header]"),this.description=this.querySelector("[slot=description]")}connectedCallback(){this.setAttribute("role","group"),this.header&&(this.header.id=this.header.id||`${this.id}-header`,this.setAttribute("aria-labelledby",this.header.id)),this.description&&(this.description.id=this.description.id||`${this.id}-description`,this.setAttribute("aria-describedby",this.description.id))}}customElements.define("form-group",g);customElements.define("radio-group",class extends g{constructor(){super(),this.listeners=new Map,this.active=0,this.radios=this.querySelectorAll("radio-button"),this.listeners.set("change",this.handleChange.bind(this)),this.listeners.set("keydown",this.handleKeypress.bind(this))}connectedCallback(){super.connectedCallback(),this.setAttribute("role","radiogroup"),this.initRadios(),this.addListeners()}disconnectedCallback(){this.removeListeners()}initRadios(){this.radios.forEach((e,t)=>{e.checked?this.active=t:e.tabindex=-1}),this.radios.item(this.active).tabindex=0}nextRadio(e){const t=this.radios.length-1;e=null!=e?e:this.active;do{++e>t&&(e=0)}while(this.radios.item(e).disabled);return e}previousRadio(e){const t=this.radios.length-1;e=null!=e?e:this.active;do{--e<0&&(e=t)}while(this.radios.item(e).disabled);return e}activateRadio(e){const t=this.radios.item(this.active);t.checked=!1,t.tabindex=-1;const i=this.radios.item(e);i.checked=!0,i.tabindex=0,i.focus(),this.active=e}addListeners(){this.listeners.forEach((e,t)=>this.addEventListener(t,e))}removeListeners(){this.listeners.forEach((e,t)=>this.removeEventListener(t,e))}handleChange(e){if(e.target.checked){const t=[...this.radios.entries()].find(([t,i])=>i===e.target)[0];t!==this.active&&this.activateRadio(t)}}handleKeypress(e){switch(e.key){case"ArrowUp":case"ArrowLeft":this.activateRadio(this.previousRadio()),e.preventDefault();break;case"ArrowDown":case"ArrowRight":this.activateRadio(this.nextRadio()),e.preventDefault()}}});class k extends HTMLElement{constructor(){super(...arguments),this.listeners=new Map}static get observedAttributes(){return["name","required"]}get name(){return this.getAttribute("name")}set name(e){e!==this.name&&(e?this.setAttribute("name",e):this.removeAttribute("name"))}get required(){return this.hasAttribute("required")&&"false"!==this.getAttribute("required")}set required(e){e!==this.required&&(e?this.setAttribute("required","true"):this.removeAttribute("required"))}connectedCallback(){}disconnectedCallback(){}attributeChangedCallback(e,t,i){if(t!==i)switch(e){case"name":this.name=i;break;case"required":this.required="false"!==i}}isValid(){const e=new FormData(this.parentElement);return!this.required||(!!e.get(this.name)||!!e.get(`${this.name}-other`))}addListeners(){this.listeners.forEach((e,t)=>this.addEventListener(t,e))}removeListeners(){this.listeners.forEach((e,t)=>this.removeEventListener(t,e))}}customElements.define("survey-question",k);class f extends HTMLFormElement{constructor(){super(...arguments),this.active=0,this.total=0}connectedCallback(){this.listeners=new Map,this.listeners.set("change",this.handleChange.bind(this)),this.listeners.set("input",this.handleChange.bind(this)),this.listeners.set("next-step",this.handleNextStep.bind(this)),this.listeners.set("previous-step",this.handlePreviousStep.bind(this)),this.steps=this.querySelectorAll("survey-question"),this.total=this.steps.length,this.active=0,this.progress=document.createElement("progress"),this.progress.max=this.total,this.progress.value=this.active+1,this.prepend(this.progress),this.previous=document.createElement("button"),this.previous.type="button",this.previous.innerHTML='<ui-icon icon="arrow-left"></ui-icon>',this.previous.className="previous",this.previous.setAttribute("aria-label","previous"),this.previous.addEventListener("click",()=>this.previous.dispatchEvent(new Event("previous-step",{bubbles:!0,cancelable:!0,composed:!0}))),this.append(this.previous),this.next=document.createElement("button"),this.next.type="button",this.next.innerHTML='<ui-icon icon="check"></ui-icon>',this.next.className="next",this.next.setAttribute("aria-label","next"),this.next.addEventListener("click",()=>this.next.dispatchEvent(new Event("next-step",{bubbles:!0,cancelable:!0,composed:!0}))),this.append(this.next),this.update(),this.addListeners()}disconnectedCallback(){this.removeListeners()}getResults(){return[...new FormData(this).entries()].reduce((e,[t,i])=>(e.hasOwnProperty(t)?(e[t]instanceof Array||(e[t]=[e[t]]),e[t].push(i)):e[t]=i,e),{})}update(){this.steps.forEach((e,t)=>{t!==this.active?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}),this.previous.disabled=0===this.active,this.next.disabled=!this.steps.item(this.active).isValid(),this.progress.value=this.active}handleChange(){this.update()}handleNextStep(){this.steps.item(this.active).isValid()&&this.active<this.total-1&&(this.active++,this.update())}handlePreviousStep(){this.active>0&&(this.active--,this.update())}addListeners(){this.listeners.forEach((e,t)=>this.addEventListener(t,e))}removeListeners(){this.listeners.forEach((e,t)=>this.removeEventListener(t,e))}}customElements.define("survey-form",f,{extends:"form"}),window.addEventListener("DOMContentLoaded",()=>{!async function(){console.log("loaded..")}()})}();
